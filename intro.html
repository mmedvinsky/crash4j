<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8' />
    <meta http-equiv="X-UA-Compatible" content="chrome=1" />
    <meta name="description" content="Crash4j : Fault tolerance framework for JVM runtimes " />

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>Crash4j</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/mmedvinsky/crash4j">View on GitHub</a>

          <h1 id="project_title">CRASH4J</h1>
          <h2 id="project_tagline">Fault tolerance testing framework for JVM runtimes </h2>

            <section id="downloads">
              <a class="zip_download_link" href="https://github.com/mmedvinsky/crash4j/zipball/master">Download this project as a .zip file</a>
              <a class="tar_download_link" href="https://github.com/mmedvinsky/crash4j/tarball/master">Download this project as a tar.gz file</a>
            </section>
        </header>
    <table id="project_tagline">
      <tr>
      <td><a href="index.html">Home</a></td>        
      <td><a href="intro.html">Introduction</a></td>        
      <td><a href="starting.html">Getting Started</a></td>        
      <td><a href="uguide.html">User Guide</a></td>        
      </tr>
    </table>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
       <h3>Introduction</h3>
       Crash4j is an engine and a platform used to perform fault tolerance testing .  
       The importance of fault-tolerance testing becomes more prominent as complexity of your production environment grows.  
       As we have seen almost exponential growth in system layers and their inter-dependencies the need to understand 
       the fault bearing capabilities of each individual system participant is very important. 
       <p/>
       All systems can be classified into 3 main categories, as they are measured for fault tolerance:
       <table>
         <tr><td>Unrecoverable</td><td>Recoverable</td><td>Fault Tolerant</td></tr>    
         <tr><td>The system experiences a period of instability and is unable to recover from it. 
Recover involves, restarting, reconfiguring or fixing the system
</td><td>The system experiences a period of instability and is able to recover from it and continue operating with the same SLA as before the instability took place</td>
<td>The system experiences instability but is able to carry on with operations in acceptable way, despite instability.</td></tr>
       </table>
Most of the systems in the world are resident of the Recoverable category.  There are very few systems or applications for which it is ok to go under after a period of instability and require manual intervention in order to be operational again. Even fewer are the systems that are redundant enough or fault tolerant enough to leave through instabilities and remain unaffected by the event.   The very few examples of fully fault tolerant systems are limited to military, airplane and medical industries.

Crash4j system allows you to integrate fault tolerant testing very early in the development cycle and continue with it all the way to pre-production testing.

In order to integrate the fault tolerant testing into you development practices the crash4j engine provides integration with the JUnit 4 testing framework as well as providing a runtime agent to effect workloads during a more formal tests.
       
       <h3>What elements are included?</h3>
       The crash4j runtime is able to recognize the following elements of your workload environment.
       <ol>
         <li>NETWORK</li>
         <li>FILE SYSTEM</li>
         <li>DATABASES (RDBMS)</li>
         <li>SERVICES (HTTP, FTP, SMTP)</li>         
       </ol>
       
       These are currently implemented elements that are available from crash4j product today.  More will be coming in the future.
       <h3>How is environment represented?</h3>
       The environment is discovered from the operational behavior of you workload.  Once an environment resource is discovered it is represented in a form of a unique complex name.  For example a network resource, connecting from localhost to port 3306 over tcp will be represented as follows:
       
       <table><tr><td><i>net</i>:port=3306,parent=db@6b2dc21d@5e4c5524,host=localhost,secure=false,server=false,protocol=tcp</td></tr></tr></table>
       The general format chosen to encode the resources is similar to Java JMX ObjectName, chosen for its extensibility and simplicity:

      <table><tr><td>[ResourceType][:]( [name]=[value] )([,] [name]=[value] )*</td></tr></tr></table>


Examining, the network resource we can see a number of attributes, for example “port” attribute, describes remote port of the identified stream, “parent”, if present, shows a parent resource, under whose context this resource is operating, “host” is an address of the network connection, “server” marks this to be a client/server socket and finally “protocol” attribute identifies the network protocol to be tcp.

In addition to the resource identifiers, each resource types (com.crash4j.engine.types.ResourceTypes) can perform a number of actions, described by action classes.
<table>
<tr><td>Resource Types</td><td>Symbol</td><td>Resource Class</td></tr>
<tr><td>Network</td><td>net</td><td>IO</td></tr>
<tr><td>File System</td><td>fsys</td><td>IO,FILESYSTEM</td></tr>
<tr><td>RDBMS</td><td>db</td><td>SQL</td></tr>
<tr><td>HTTPk</td><td>http</td><td>IO, HTTP</td></tr>
</table>
 
 <h3>Resources</h3>
 
 <h4>Network Resource</h4>
 Network resource describes a network stream, opened through various means by java program in order to communicate with a remote server.  The current implementation is able to recognize an describe TCP, UDP connections, address resolution calls, operations performed on the open socket, such as setting of options, closing, etc.  Crash4j engine is also able to work with both blocking as well as non-blocking IO.  What that really means is that is your workload is using a java.net.Socket to talk to host1, port1 or is using java.nio.SocketChannel to talk to host1, port1 – it will be described as a single remote resource, identified by host1, port1 and can be effected as such.  In addition the crash4j engine is able to detected ssl and server sockets.  
 Here are all of the attributes that can be present in a Network Resource
 
<table>
<tr><td>Attribute</td><td>Required</td><td>Description</td></tr>
<tr><td>Port</td><td>yes</td><td>Describes designated remote port, to which this socket is connected</td></tr>
<tr><td>Host</td><td>yes</td><td>Describes designated remote host to which this socket is connected.  The host will commonly be described by name but if unavailable the address will apply</td></tr>
<tr><td>Secure</td><td>No</td><td>If not present a non-secure socket is assumed.  If present the socket is communicating over SSL.</td></tr>
<tr><td>Server</td><td>No</td><td>IO, HTTP</td></tr>
<tr><td>Protocol</td><td>No</td><td>IO, HTTP</td></tr>
</table>
 <i>For example:</i>
net:port=6553,host=localhost,secure=false,server=false,protocol=tcp
Describes a network resource in the environment of you runtime that is connected to remote port 6553 at localhost, its not secure and is communicating using tcp.
net:port=6553,host=0.0.0.0,secure=false,server=true,protocol=tcp
Describes a server socket that is connected to the remote port 6553 on local interface 0.0.0.0, its not secure and is using tcp.
As was described before, every resource can perform a set of actions.  As the network resource belongs to the IO action class and to NETWORK action class it can perform all of the IO actions. See Appendix A.

 
      </section>
    </div>
    
    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">Crash4j maintained by <a href="https://github.com/mmedvinsky">mmedvinsky</a></p>
        <p>Published with <a href="http://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

    

  </body>
</html>
